(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{323:function(t,s,e){t.exports=e.p+"assets/img/eventmesh-rr-msg.f857f1b0.png"},324:function(t,s,e){t.exports=e.p+"assets/img/eventmesh-async-msg.032fb180.png"},325:function(t,s,e){t.exports=e.p+"assets/img/eventmesh-broadcast-msg.668b9e8c.png"},379:function(t,s){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAtEAAAApCAYAAADzl3VaAAAEjHRFWHRteGZpbGUAJTNDbXhmaWxlJTIwaG9zdCUzRCUyMkVsZWN0cm9uJTIyJTIwbW9kaWZpZWQlM0QlMjIyMDIxLTAzLTA1VDA2JTNBMzklM0ExNC40ODlaJTIyJTIwYWdlbnQlM0QlMjI1LjAlMjAoV2luZG93cyUyME5UJTIwMTAuMCUzQiUyMFdpbjY0JTNCJTIweDY0KSUyMEFwcGxlV2ViS2l0JTJGNTM3LjM2JTIwKEtIVE1MJTJDJTIwbGlrZSUyMEdlY2tvKSUyMGRyYXcuaW8lMkYxMi45LjklMjBDaHJvbWUlMkY4MC4wLjM5ODcuMTYzJTIwRWxlY3Ryb24lMkY4LjIuMSUyMFNhZmFyaSUyRjUzNy4zNiUyMiUyMGV0YWclM0QlMjJPejZHcWxGUExHd0t6ME5IZUVuQiUyMiUyMHZlcnNpb24lM0QlMjIxMi45LjklMjIlMjB0eXBlJTNEJTIyZGV2aWNlJTIyJTNFJTNDZGlhZ3JhbSUyMGlkJTNEJTIyVlNuSnNDWmhHaDNhejZtbzh5eTclMjIlMjBuYW1lJTNEJTIyUGFnZS0yJTIyJTNFM1paUmI1c3dFSUIlMkZEWSUyQlZES2FFdnBaa2l5SlZuWVRVU1gxejhBV3NBSWVNS2RCZlB4Tk1nTkZWNjdRMVdwNkN2N1BQdWMlMkJIaFVXRHJQa3FXWkU4SUlmVWNnaHZMTHEySE1kMkhWZiUyRmRLVHRpZCUyQk5PaEJMd2Mya0VZVGlGUXdraGxhQ1F6bWJxQkJUSllvNWpERFBJVkl6eHFURWVqN3RnT2w4MTRMRnNBQmh4TklsJTJGUzY0U29ZcVZpUGZnb2lUWVdmYnUlMkJzakdSc21tMHJLaEhHc0o0aHVMQnBJUk5VJTJGWlUwQWFTZHY4QktBJTJGUnp1eVRyaHR2OTg2MFJ0dmlsdiUyQm1SZlByTGtYSUtFWFAxeDZuRDNXcjNROWFaNjNPNzhwM0NIeCUyQlBqamRlbmZtRnBaWHlaV2xVN0NJd2xWb1ZGN3c4aVRRTk1VWjR3UFJ6QWl5TE5TeVh4Q0pNSVg5M3RDZEVSa3h1a2d1YXRzMmI3WVElMkZ5bXhYYVolMkIyNlh3RXpVTExWNjB4MjM2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"},409:function(t,s,e){"use strict";e.r(s);var n=e(42),a=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h2",{attrs:{id:"tcp-protocol-document-in-eventmesh-runtime"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#tcp-protocol-document-in-eventmesh-runtime"}},[t._v("#")]),t._v(" TCP Protocol Document In Eventmesh-Runtime")]),t._v(" "),n("h4",{attrs:{id:"_1-protocol-format"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-protocol-format"}},[t._v("#")]),t._v(" 1. Protocol Format")]),t._v(" "),n("p",[n("img",{attrs:{src:e(379),alt:"dataFlow"}})]),t._v(" "),n("p",[n("strong",[t._v("Protocol Specification")])]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("Magic Code: 4 bit, defaultValue:WEMQ\n\nProtocol Version: 4 bit, defaultValue:0000\n\nMessage Size: 4 bit, the total length of message\n\nHeader Size: 4 bitï¼Œthe length of Message Header\n\nMessage Header: the specific header content of message \n\nMessage Body: the specific body content of message \n")])])]),n("h4",{attrs:{id:"_2-message-object-in-business-logic-layer"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-message-object-in-business-logic-layer"}},[t._v("#")]),t._v(" 2. Message Object in business logic layer")]),t._v(" "),n("ul",[n("li",[t._v("Message Composition")])]),t._v(" "),n("p",[t._v("The class of "),n("code",[t._v("Package.java")]),t._v(" is message object in business logic layer. It contains two parts: header and body.")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Package")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Header")]),t._v(" header"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),t._v(" body"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Header")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Command")]),t._v(" cmd"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" code"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" msg"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" seq"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("ul",[n("li",[t._v("Specificatiion")])]),t._v(" "),n("p",[t._v("Message Header(header): The field of Command in Header, used to distinguishing  different message types.")]),t._v(" "),n("p",[t._v("Message Body(body): The message body is defined as different objects according to the message type.")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("Command")]),t._v(" "),n("th",[t._v("type of Body")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("HEARTBEAT_REQUEST, HEARTBEAT_RESPONSE, HELLO_RESPONSE, CLIENT_GOODBYE_REQUEST, CLIENT_GOODBYE_RESPONSE, SERVER_GOODBYE_REQUEST, SERVER_GOODBYE_RESPONSE, LISTEN_REQUEST, LISTEN_RESPONSE, UNSUBSCRIBE_REQUEST, SUBSCRIBE_RESPONSE, UNSUBSCRIBE_RESPONSE, ASYNC_MESSAGE_TO_SERVER_ACK, BROADCAST_MESSAGE_TO_SERVER_ACK")]),t._v(" "),n("td",[t._v("--")])]),t._v(" "),n("tr",[n("td",[t._v("HELLO_REQUEST")]),t._v(" "),n("td",[t._v("UserAgent")])]),t._v(" "),n("tr",[n("td",[t._v("SUBSCRIBE_REQUEST")]),t._v(" "),n("td",[t._v("Subscription")])]),t._v(" "),n("tr",[n("td",[t._v("REQUEST_TO_SERVER, REQUEST_TO_CLIENT, RESPONSE_TO_SERVER, RESPONSE_TO_CLIENT, ASYNC_MESSAGE_TO_SERVER, ASYNC_MESSAGE_TO_CLIENT, BROADCAST_MESSAGE_TO_SERVER, BROADCAST_MESSAGE_TO_CLIENT, ASYNC_MESSAGE_TO_CLIENT_ACK, BROADCAST_MESSAGE_TO_CLIENT_ACK, RESPONSE_TO_CLIENT_ACK, REQUEST_TO_CLIENT_ACK")]),t._v(" "),n("td",[t._v("OpenMessage")])]),t._v(" "),n("tr",[n("td",[t._v("REDIRECT_TO_CLIENT")]),t._v(" "),n("td",[t._v("RedirectInfo")])])])]),t._v(" "),n("h4",{attrs:{id:"_3-the-interactive-command-between-client-and-server-eventmesh-runtime"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-the-interactive-command-between-client-and-server-eventmesh-runtime"}},[t._v("#")]),t._v(" 3. The Interactive Command between Client and Server(Eventmesh-Runtime)")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("enum")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Command")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//HeartBeat")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("HEARTBEAT_REQUEST")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                              "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//client send heartbeat request to server")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("HEARTBEAT_RESPONSE")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                             "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//server reply heartbeat response to client")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//Hello")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("HELLO_REQUEST")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                                  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//client send connect request to server")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("HELLO_RESPONSE")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                                 "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//server reply connect response to client")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//Disconncet")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("CLIENT_GOODBYE_REQUEST")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                         "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//client send disconnect request to server")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("CLIENT_GOODBYE_RESPONSE")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//server reply disconnect response to client")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("SERVER_GOODBYE_REQUEST")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                         "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//server send disconncet request to client")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("SERVER_GOODBYE_RESPONSE")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//client reply disconnect response to server")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//Subscribe and UnSubscribe")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("SUBSCRIBE_REQUEST")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                              "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//client send subscribe request to server")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("SUBSCRIBE_RESPONSE")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                             "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//server reply subscribe response to client")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("UNSUBSCRIBE_REQUEST")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                           "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//client send unsubscribe request to server")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("UNSUBSCRIBE_RESPONSE")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                          "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//server reply unsubscribe response to client")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//Listen")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("LISTEN_REQUEST")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                            \t   "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//client send listen request to server")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("LISTEN_RESPONSE")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("13")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                               "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//server reply listen response to client")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//send sync message")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("REQUEST_TO_SERVER")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("14")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                             "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//client(Producer) send sync msg to server")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("REQUEST_TO_CLIENT")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("15")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                             "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//server push sync msg to client(Consumer)")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("REQUEST_TO_CLIENT_ACK")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("16")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                         "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//client(Consumer) send ack of sync msg to server")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("RESPONSE_TO_SERVER")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("17")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                            "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//client(Consumer) send reply msg to server")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("RESPONSE_TO_CLIENT")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                            "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//server push reply msg to client(Producer)")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("RESPONSE_TO_CLIENT_ACK")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("19")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//client(Producer) send ack of reply msg to server")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//send async message")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("ASYNC_MESSAGE_TO_SERVER")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                       "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//client send async msg to server")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("ASYNC_MESSAGE_TO_SERVER_ACK")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("21")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                   "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//server reply ack of async msg to client")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("ASYNC_MESSAGE_TO_CLIENT")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("22")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                       "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//server push async msg to client")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("ASYNC_MESSAGE_TO_CLIENT_ACK")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("23")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                   "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//client reply ack of async msg to server")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//send broadcast message")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("BROADCAST_MESSAGE_TO_SERVER")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("24")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                   "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//client send broadcast msg to server")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("BROADCAST_MESSAGE_TO_SERVER_ACK")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("25")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("               "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//server reply ack of broadcast msg to client")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("BROADCAST_MESSAGE_TO_CLIENT")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("26")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                   "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//server push broadcast msg to client")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("BROADCAST_MESSAGE_TO_CLIENT_ACK")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("27")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("               "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//client reply ack of broadcast msg to server")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//redirect")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("REDIRECT_TO_CLIENT")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("30")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                            "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//server send redirect instruction to client")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("h4",{attrs:{id:"_4-client-initiates-interaction"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-client-initiates-interaction"}},[t._v("#")]),t._v(" 4. Client initiates interaction")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("Scene")]),t._v(" "),n("th",[t._v("Client Send")]),t._v(" "),n("th",[t._v("Server Reply")]),t._v(" "),n("th",[t._v("Remark")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("Hello")]),t._v(" "),n("td",[t._v("HELLO_REQUEST")]),t._v(" "),n("td",[t._v("HELLO_RESPONSE")]),t._v(" "),n("td")]),t._v(" "),n("tr",[n("td",[t._v("Heartbeat")]),t._v(" "),n("td",[t._v("HEARTBEAT_REQUEST")]),t._v(" "),n("td",[t._v("HEARTBEAT_RESPONSE")]),t._v(" "),n("td")]),t._v(" "),n("tr",[n("td",[t._v("Subscribe")]),t._v(" "),n("td",[t._v("SUBSCRIBE_REQUEST")]),t._v(" "),n("td",[t._v("SUBSCRIBE_RESPONSE")]),t._v(" "),n("td")]),t._v(" "),n("tr",[n("td",[t._v("Unsubscribe")]),t._v(" "),n("td",[t._v("UNSUBSCRIBE_REQUEST")]),t._v(" "),n("td",[t._v("UNSUBSCRIBE_RESPONSE")]),t._v(" "),n("td")]),t._v(" "),n("tr",[n("td",[t._v("Listen")]),t._v(" "),n("td",[t._v("LISTEN_REQUEST")]),t._v(" "),n("td",[t._v("LISTEN_RESPONSE")]),t._v(" "),n("td")]),t._v(" "),n("tr",[n("td",[t._v("Send sync msg")]),t._v(" "),n("td",[t._v("REQUEST_TO_SERVER")]),t._v(" "),n("td",[t._v("RESPONSE_TO_CLIENT")]),t._v(" "),n("td")]),t._v(" "),n("tr",[n("td",[t._v("Send reply msg of sync msg")]),t._v(" "),n("td",[t._v("RESPONSE_TO_SERVER")]),t._v(" "),n("td",[t._v("--")]),t._v(" "),n("td")]),t._v(" "),n("tr",[n("td",[t._v("Send async msg")]),t._v(" "),n("td",[t._v("ASYNC_MESSAGE_TO_SERVER")]),t._v(" "),n("td",[t._v("ASYNC_MESSAGE_TO_SERVER_ACK")]),t._v(" "),n("td")]),t._v(" "),n("tr",[n("td",[t._v("Send broadcast msg")]),t._v(" "),n("td",[t._v("BROADCAST_MESSAGE_TO_SERVER")]),t._v(" "),n("td",[t._v("BROADCAST_MESSAGE_TO_SERVER_ACK")]),t._v(" "),n("td")]),t._v(" "),n("tr",[n("td",[t._v("Client start disconnect")]),t._v(" "),n("td",[t._v("CLIENT_GOODBYE_REQUEST")]),t._v(" "),n("td",[t._v("CLIENT_GOODBYE_RESPONSE")]),t._v(" "),n("td")])])]),t._v(" "),n("h4",{attrs:{id:"_5-server-initiates-interaction"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_5-server-initiates-interaction"}},[t._v("#")]),t._v(" 5. Server initiates interaction")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("Scene")]),t._v(" "),n("th",[t._v("Server Send")]),t._v(" "),n("th",[t._v("Client Reply")]),t._v(" "),n("th",[t._v("Remark")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("Push sync msg to client")]),t._v(" "),n("td",[t._v("REQUEST_TO_CLIENT")]),t._v(" "),n("td",[t._v("REQUEST_TO_CLIENT_ACK")]),t._v(" "),n("td")]),t._v(" "),n("tr",[n("td",[t._v("Push reply msg of sync msg to client")]),t._v(" "),n("td",[t._v("RESPONSE_TO_CLIENT")]),t._v(" "),n("td",[t._v("RESPONSE_TO_CLIENT_ACK")]),t._v(" "),n("td")]),t._v(" "),n("tr",[n("td",[t._v("Push async msg to client")]),t._v(" "),n("td",[t._v("ASYNC_MESSAGE_TO_CLIENT")]),t._v(" "),n("td",[t._v("ASYNC_MESSAGE_TO_CLIENT_ACK")]),t._v(" "),n("td")]),t._v(" "),n("tr",[n("td",[t._v("Push broadcast msg to client")]),t._v(" "),n("td",[t._v("BROADCAST_MESSAGE_TO_CLIENT")]),t._v(" "),n("td",[t._v("BROADCAST_MESSAGE_TO_CLIENT_ACK")]),t._v(" "),n("td")]),t._v(" "),n("tr",[n("td",[t._v("Server start disconnect")]),t._v(" "),n("td",[t._v("SERVER_GOODBYE_REQUEST")]),t._v(" "),n("td",[t._v("--")]),t._v(" "),n("td")]),t._v(" "),n("tr",[n("td",[t._v("Server send redirect")]),t._v(" "),n("td",[t._v("REDIRECT_TO_CLIENT")]),t._v(" "),n("td",[t._v("--")]),t._v(" "),n("td")])])]),t._v(" "),n("h4",{attrs:{id:"_6-message-classification"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_6-message-classification"}},[t._v("#")]),t._v(" 6. Message classification")]),t._v(" "),n("ul",[n("li",[t._v("Send sync msg")])]),t._v(" "),n("p",[n("img",{attrs:{src:e(323),alt:"rr-msg"}})]),t._v(" "),n("ul",[n("li",[t._v("Send async msg")])]),t._v(" "),n("p",[n("img",{attrs:{src:e(324),alt:"async-msg"}})]),t._v(" "),n("ul",[n("li",[t._v("Send broadcast msg")])]),t._v(" "),n("p",[n("img",{attrs:{src:e(325),alt:"broadcast-msg"}})]),t._v(" "),n("h2",{attrs:{id:"http-protocol-document-in-eventmesh-runtime"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#http-protocol-document-in-eventmesh-runtime"}},[t._v("#")]),t._v(" HTTP Protocol Document In Eventmesh-Runtime")]),t._v(" "),n("p",[t._v("The class of "),n("code",[t._v("LiteMessage.java")]),t._v(" is message definition in http protocal of EventMesh-Runtime.If you want to send msg by using http protocol,you can use client in eventmesh-sdk-java, and you just need care the specific protocol in the field of content.")]),t._v(" "),n("div",{staticClass:"language-java extra-class"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("LiteMessage")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" bizSeqNo"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" uniqueId"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" topic"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" content"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Map")]),n("span",{pre:!0,attrs:{class:"token generics"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" prop"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("long")]),t._v(" createTime "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("currentTimeMillis")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("h4",{attrs:{id:"_1-message-send-and-message-composition"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-message-send-and-message-composition"}},[t._v("#")]),t._v(" 1. Message Send and Message Composition")]),t._v(" "),n("p",[n("strong",[t._v("Request Method")]),t._v(": POST")]),t._v(" "),n("p",[n("strong",[t._v("Message Composition")]),t._v(": RequestHeader + RequestBody")]),t._v(" "),n("ul",[n("li",[t._v("Heartbeat Msg")])]),t._v(" "),n("p",[n("strong",[t._v("RequestHeader")])]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("Key")]),t._v(" "),n("th",[t._v("Description")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("Env")]),t._v(" "),n("td",[t._v("Enviroment of Client")])]),t._v(" "),n("tr",[n("td",[t._v("Region")]),t._v(" "),n("td",[t._v("Region of Client")])]),t._v(" "),n("tr",[n("td",[t._v("Idc")]),t._v(" "),n("td",[t._v("IDC of Client")])]),t._v(" "),n("tr",[n("td",[t._v("Dcn")]),t._v(" "),n("td",[t._v("DCN of Client")])]),t._v(" "),n("tr",[n("td",[t._v("Sys")]),t._v(" "),n("td",[t._v("Subsystem ID of Client")])]),t._v(" "),n("tr",[n("td",[t._v("Pid")]),t._v(" "),n("td",[t._v("Client Process ID")])]),t._v(" "),n("tr",[n("td",[t._v("Ip")]),t._v(" "),n("td",[t._v("Client Ip")])]),t._v(" "),n("tr",[n("td",[t._v("Username")]),t._v(" "),n("td",[t._v("Client username")])]),t._v(" "),n("tr",[n("td",[t._v("Passwd")]),t._v(" "),n("td",[t._v("Client password")])]),t._v(" "),n("tr",[n("td",[t._v("Version")]),t._v(" "),n("td",[t._v("Protocol version")])]),t._v(" "),n("tr",[n("td",[t._v("Language")]),t._v(" "),n("td",[t._v("Develop language")])]),t._v(" "),n("tr",[n("td",[t._v("Code")]),t._v(" "),n("td",[t._v("Request Code")])])])]),t._v(" "),n("p",[n("strong",[t._v("RequestBody")])]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("Key")]),t._v(" "),n("th",[t._v("Description")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("clientType")]),t._v(" "),n("td",[t._v("Producer:clientType is ClientType.PUB,Consumer:clientType is ClientType.SUB")])]),t._v(" "),n("tr",[n("td",[t._v("heartbeatEntities")]),t._v(" "),n("td",[t._v("Heartbeat content,contains topic,url...")])])])]),t._v(" "),n("ul",[n("li",[t._v("Subscribe Msg")])]),t._v(" "),n("p",[n("strong",[t._v("RequestHeader")])]),t._v(" "),n("p",[t._v("same with RequestHeader of heartbeat msg")]),t._v(" "),n("p",[n("strong",[t._v("RequestBody")])]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("Key")]),t._v(" "),n("th",[t._v("Description")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("topic")]),t._v(" "),n("td",[t._v("topic of client want to subscribe")])]),t._v(" "),n("tr",[n("td",[t._v("url")]),t._v(" "),n("td",[t._v("url of client, server push msg to the url when receiving msg from other components")])])])]),t._v(" "),n("ul",[n("li",[t._v("Unsubscribe Msg")])]),t._v(" "),n("p",[n("strong",[t._v("RequestHeader")])]),t._v(" "),n("p",[t._v("same with RequestHeader of Heartbeat Msg")]),t._v(" "),n("p",[n("strong",[t._v("RequestBody")])]),t._v(" "),n("p",[t._v("same with RequestBody of Subscribe Msg")]),t._v(" "),n("ul",[n("li",[t._v("Send async msg")])]),t._v(" "),n("p",[n("strong",[t._v("RequestHeader")])]),t._v(" "),n("p",[t._v("same with RequestHeader of Heartbeat Msg")]),t._v(" "),n("p",[n("strong",[t._v("RequestBody")])]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("Key")]),t._v(" "),n("th",[t._v("Description")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("topic")]),t._v(" "),n("td",[t._v("topic of msg")])]),t._v(" "),n("tr",[n("td",[t._v("content")]),t._v(" "),n("td",[t._v("msg content")])]),t._v(" "),n("tr",[n("td",[t._v("ttl")]),t._v(" "),n("td",[t._v("timeout time of  msg")])]),t._v(" "),n("tr",[n("td",[t._v("bizSeqNo")]),t._v(" "),n("td",[t._v("biz sequence number of msg")])]),t._v(" "),n("tr",[n("td",[t._v("uniqueId")]),t._v(" "),n("td",[t._v("unique mark of msg")])])])]),t._v(" "),n("h4",{attrs:{id:"_2-client-initiates-interaction"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-client-initiates-interaction"}},[t._v("#")]),t._v(" 2. Client initiates interaction")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("Scene")]),t._v(" "),n("th",[t._v("Client Send")]),t._v(" "),n("th",[t._v("Server Reply")]),t._v(" "),n("th",[t._v("Remark")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("Heartbeat")]),t._v(" "),n("td",[t._v("HEARTBEAT(203)")]),t._v(" "),n("td",[t._v("SUCCESS(0)/PROXY_HEARTBEAT_ERROR(19)")]),t._v(" "),n("td")]),t._v(" "),n("tr",[n("td",[t._v("Subscribe")]),t._v(" "),n("td",[t._v("SUBSCRIBE(206)")]),t._v(" "),n("td",[t._v("SUCCESS(0)/PROXY_SUBSCRIBE_ERROR(17)")]),t._v(" "),n("td")]),t._v(" "),n("tr",[n("td",[t._v("Unsubscribe")]),t._v(" "),n("td",[t._v("UNSUBSCRIBE(207)")]),t._v(" "),n("td",[t._v("SUCCESS(0)/PROXY_UNSUBSCRIBE_ERROR(18)")]),t._v(" "),n("td")]),t._v(" "),n("tr",[n("td",[t._v("Send async msg")]),t._v(" "),n("td",[t._v("MSG_SEND_ASYNC(104)")]),t._v(" "),n("td",[t._v("SUCCESS(0)/PROXY_SEND_ASYNC_MSG_ERR(14)")]),t._v(" "),n("td")])])]),t._v(" "),n("h4",{attrs:{id:"_3-server-initiates-interaction"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-server-initiates-interaction"}},[t._v("#")]),t._v(" 3. Server initiates interaction")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th",[t._v("Scene")]),t._v(" "),n("th",[t._v("Server Send")]),t._v(" "),n("th",[t._v("Client Reply")]),t._v(" "),n("th",[t._v("Remark")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[t._v("Push async msg to client")]),t._v(" "),n("td",[t._v("HTTP_PUSH_CLIENT_ASYNC(105)")]),t._v(" "),n("td",[t._v("retCode")]),t._v(" "),n("td",[t._v("retCode=0,send success")])])])])])}),[],!1,null,null,null);s.default=a.exports}}]);