(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{326:function(t,e,s){t.exports=s.p+"assets/img/project-structure.118642ed.png"},327:function(t,e){t.exports="data:image/png;base64,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"},328:function(t,e,s){t.exports=s.p+"assets/img/docker-ps.546ac091.png"},329:function(t,e,s){t.exports=s.p+"assets/img/docker-logs.a05b7b7f.png"},330:function(t,e,s){t.exports=s.p+"assets/img/docker-exec.5c1f8b3b.png"},402:function(t,e,s){"use strict";s.r(e);var a=s(42),r=Object(a.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",[t._v("Eventmesh-runtime快速入门说明")]),t._v(" "),a("h2",{attrs:{id:"_1-远程部署"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-远程部署"}},[t._v("#")]),t._v(" 1 远程部署")]),t._v(" "),a("h3",{attrs:{id:"_1-1-依赖"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-依赖"}},[t._v("#")]),t._v(" 1.1 依赖")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("建议使用64位操作系统，建议使用Linux / Unix；\n64位JDK 1.8+;\nGradle至少为5.6, 推荐 5.6.*\n")])])]),a("h3",{attrs:{id:"_1-2-下载源码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-下载源码"}},[t._v("#")]),t._v(" 1.2 下载源码")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/WeBankFinTech/EventMesh",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/WeBankFinTech/EventMesh"),a("OutboundLink")],1),t._v("\n您将获得"),a("strong",[t._v("EventMesh-master.zip")])]),t._v(" "),a("h3",{attrs:{id:"_1-3-构建源码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-构建源码"}},[t._v("#")]),t._v(" 1.3 构建源码")]),t._v(" "),a("div",{staticClass:"language-$ xslt extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("unzip EventMesh-master.zip\ncd / *您的部署路径* /EventMesh-master/eventmesh-runtime\ngradle clean dist tar -x test\n")])])]),a("p",[t._v("您将在目录/ "),a("em",[t._v("您的部署路径")]),t._v(" /EventMesh-master/eventmesh-runtime/dist中获得"),a("strong",[t._v("eventmesh-runtime_1.0.0.tar.gz")])]),t._v(" "),a("h3",{attrs:{id:"_1-4-部署"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-部署"}},[t._v("#")]),t._v(" 1.4 部署")]),t._v(" "),a("ul",[a("li",[t._v("部署eventmesh-runtime")])]),t._v(" "),a("div",{staticClass:"language-$ xslt extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("upload eventmesh-runtime_1.0.0.tar.gz\ntar -zxvf eventmesh-runtime_1.0.0.tar.gz\ncd bin\n配置 proxy.properties\ncd ../bin\nsh start.sh\n")])])]),a("p",[t._v('如果看到"ProxyTCPServer[port=10000] started...."，则说明设置成功。')]),t._v(" "),a("h2",{attrs:{id:"_2-本地构建运行"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-本地构建运行"}},[t._v("#")]),t._v(" 2 本地构建运行")]),t._v(" "),a("h3",{attrs:{id:"_2-1-依赖"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-依赖"}},[t._v("#")]),t._v(" 2.1 依赖")]),t._v(" "),a("p",[t._v("同上述步骤 1.1")]),t._v(" "),a("h3",{attrs:{id:"_2-2-下载源码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-下载源码"}},[t._v("#")]),t._v(" 2.2 下载源码")]),t._v(" "),a("p",[t._v("同上述步骤 1.2")]),t._v(" "),a("h3",{attrs:{id:"_2-3-本地启动"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-本地启动"}},[t._v("#")]),t._v(" 2.3 本地启动")]),t._v(" "),a("p",[a("strong",[t._v("2.3.1 项目结构说明：")])]),t._v(" "),a("p",[a("img",{attrs:{src:s(326),alt:"project-structure"}})]),t._v(" "),a("ul",[a("li",[t._v("eventmesh-common : eventmesh公共类与方法模块")]),t._v(" "),a("li",[t._v("eventmesh-connector-api : eventmesh插件接口定义模块")]),t._v(" "),a("li",[t._v("eventmesh-connector-rocketmq : eventmesh rocketmq插件模块")]),t._v(" "),a("li",[t._v("eventmesh-runtime : eventmesh运行时模块")]),t._v(" "),a("li",[t._v("eventmesh-sdk-java : eventmesh java客户端sdk")]),t._v(" "),a("li",[t._v("eventmesh-starter : eventmesh本地启动运行项目入口")])]),t._v(" "),a("blockquote",[a("p",[t._v("注：插件模块遵循java spi机制，需要在对应模块中的/main/resources/META-INF/services 下配置相关接口与实现类的映射文件")])]),t._v(" "),a("p",[a("strong",[t._v("2.3.2 配置VM启动参数")])]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Dlog4j")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("configurationFile"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\\eventmesh"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("runtime\\conf\\log4j2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("xml\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Dproxy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("log"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("home"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\\eventmesh"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("runtime\\logs\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Dproxy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("home"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\\eventmesh"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("runtime\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DconfPath")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\\eventmesh"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("runtime\\conf\n")])])]),a("p",[a("strong",[t._v("2.3.3 配置build.gradle文件")])]),t._v(" "),a("p",[t._v("通过修改dependencies，compile project 项来指定项目启动后加载的插件")]),t._v(" "),a("p",[t._v("修改"),a("code",[t._v("eventmesh-starter")]),t._v("模块下面的"),a("code",[t._v("build.gradle")]),t._v("文件")]),t._v(" "),a("p",[t._v("加载"),a("strong",[t._v("RocketMQ")]),t._v("插件配置：")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[t._v("dependencies "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    compile "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("project")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('":eventmesh-runtime"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("project")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('":eventmesh-connector-rocketmq"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[a("strong",[t._v("2.3.4 启动运行")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("运行com.webank.eventmesh.starter.StartUp的主要方法\n")])])]),a("h2",{attrs:{id:"_3-docker-运行"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-docker-运行"}},[t._v("#")]),t._v(" 3 Docker 运行")]),t._v(" "),a("h3",{attrs:{id:"_3-1-拉取镜像"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-拉取镜像"}},[t._v("#")]),t._v(" 3.1 拉取镜像")]),t._v(" "),a("p",[t._v("执行 "),a("code",[t._v("docker pull eventmesh/eventmesh-rocketmq:v1.2.0")]),t._v(" , 你将会获取到EventMesh的镜像，如下图所示：")]),t._v(" "),a("p",[a("img",{attrs:{src:s(327),alt:"image-20210309155255510"}})]),t._v(" "),a("h3",{attrs:{id:"_3-2-配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-配置"}},[t._v("#")]),t._v(" 3.2 配置")]),t._v(" "),a("blockquote",[a("p",[a("strong",[t._v("预先准备")]),t._v(" : 你可能需要从github上下载源代码，并参考这两个文件(proxy.properties 和 rocketmq-client.properties)的内容来做下面的操作")])]),t._v(" "),a("p",[a("strong",[t._v("3.2.1 需要配置的文件")])]),t._v(" "),a("p",[t._v("在运行容器之前，你需要配置如下文件：")]),t._v(" "),a("p",[a("strong",[t._v("proxy.properties")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("配置项")]),t._v(" "),a("th",[t._v("默认值")]),t._v(" "),a("th",[t._v("备注")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("proxy.server.http.port")]),t._v(" "),a("td",[t._v("10105")]),t._v(" "),a("td",[t._v("EventMesh http 服务端口")])]),t._v(" "),a("tr",[a("td",[t._v("proxy.server.tcp.port")]),t._v(" "),a("td",[t._v("10000")]),t._v(" "),a("td",[t._v("EventMesh tcp 服务端口")])])])]),t._v(" "),a("p",[a("strong",[t._v("rocketmq-client.properties")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("配置项")]),t._v(" "),a("th",[t._v("默认值")]),t._v(" "),a("th",[t._v("备注")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("proxy.server.rocketmq.namesrvAddr")]),t._v(" "),a("td",[t._v("127.0.0.1:9876;127.0.0.1:9876")]),t._v(" "),a("td",[t._v("RocketMQ namesrv 地址")])])])]),t._v(" "),a("p",[t._v("拉取了EventMesh镜像到你的宿主机后，你可以执行下面的命令来完成"),a("strong",[t._v("proxy.properties")]),t._v("和"),a("strong",[t._v("rocketmq-client.properties")]),t._v(" 文件的配置")]),t._v(" "),a("p",[a("strong",[t._v("3.2.2 创建文件")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("mkdir")]),t._v(" -p /data/eventmesh/rocketmq/conf\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" /data/eventmesh/rocketmq/conf\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("vi")]),t._v(" proxy.properties\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("vi")]),t._v(" rocketmq-client.properties\n")])])]),a("p",[t._v("这两个文件内容可以参考 "),a("a",{attrs:{href:"https://github.com/WeBankFinTech/EventMesh/blob/develop/eventmesh-runtime/conf/proxy.properties",target:"_blank",rel:"noopener noreferrer"}},[t._v("proxy.properties"),a("OutboundLink")],1),t._v(" 和 "),a("a",{attrs:{href:"https://github.com/WeBankFinTech/EventMesh/blob/develop/eventmesh-runtime/conf/rocketmq-client.properties",target:"_blank",rel:"noopener noreferrer"}},[t._v("rocketmq-client.properties"),a("OutboundLink")],1)]),t._v(" "),a("h3",{attrs:{id:"_3-3-运行"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-运行"}},[t._v("#")]),t._v(" 3.3 运行")]),t._v(" "),a("p",[a("strong",[t._v("3.3.1 运行")])]),t._v(" "),a("p",[t._v("执行下面的命令来运行容器")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("docker run -d -p "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10000")]),t._v(":10000 -p "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10105")]),t._v(":10105 -v /data/eventmesh/rocketmq/conf/proxy.properties:/data/app/eventmesh/conf/proxy.properties -v /data/eventmesh/rocketmq/conf/rocketmq-client.properties:/data/app/eventmesh/conf/rocketmq-client.properties docker.io/eventmesh/eventmesh-rocketmq:v1.2.0\n")])])]),a("blockquote",[a("p",[t._v("-p : 将容器内端口与宿主机端口绑定，容器的端口应与配置文件中的端口一致")]),t._v(" "),a("p",[t._v("-v : 将容器内的配置文件挂载到宿主机下，需注意配置文件的路径")])]),t._v(" "),a("p",[a("strong",[t._v("3.3.2 检查容器的运行状况")])]),t._v(" "),a("p",[t._v("执行 "),a("code",[t._v("docker ps")]),t._v(" 来检查容器的运行状况")]),t._v(" "),a("p",[a("img",{attrs:{src:s(328),alt:"image-docker-ps"}})]),t._v(" "),a("p",[t._v("执行 "),a("code",[t._v("docker logs [container id]")]),t._v(" 可以得到如下结果")]),t._v(" "),a("p",[a("img",{attrs:{src:s(329),alt:"image-docker-logs"}})]),t._v(" "),a("p",[t._v("执行 "),a("code",[t._v("docker exec -it [container id] /bin/bash")]),t._v(" 可以进入到容器中并查看详细信息")]),t._v(" "),a("p",[a("img",{attrs:{src:s(330),alt:"image-docker-exec"}})]),t._v(" "),a("h3",{attrs:{id:"_3-4-测试"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-测试"}},[t._v("#")]),t._v(" 3.4 测试")]),t._v(" "),a("p",[a("strong",[t._v("预先准备")]),t._v(" ：RocketMQ Namesrv & Broker")]),t._v(" "),a("p",[t._v("你可以通过"),a("a",{attrs:{href:"https://github.com/apache/rocketmq-docker",target:"_blank",rel:"noopener noreferrer"}},[t._v("这里"),a("OutboundLink")],1),t._v("来构建rocketmq镜像或者从 docker hub上获取rocketmq镜像.")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#获取namesrv镜像")]),t._v("\ndocker pull rocketmqinc/rocketmq-namesrv:4.5.0-alpine\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#获取broker镜像")]),t._v("\ndocker pull rocketmqinc/rocketmq-broker:4.5.0-alpine\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#运行namerv容器 ")]),t._v("\ndocker run -d -p "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("9876")]),t._v(":9876 -v "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("pwd")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")])]),t._v(" /data/namesrv/logs:/root/logs -v "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("pwd")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")])]),t._v("/data/namesrv/store:/root/store --name rmqnamesrv  rocketmqinc/rocketmq-namesrv:4.5.0-alpine "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sh")]),t._v(" mqnamesrv \n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#运行broker容器 ")]),t._v("\ndocker run -d -p "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10911")]),t._v(":10911 -p "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10909")]),t._v(":10909 -v "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("pwd")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")])]),t._v("/data/broker/logs:/root/logs -v "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("pwd")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")])]),t._v("/data/broker/store:/root/store --name rmqbroker --link rmqnamesrv:namesrv -e "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"NAMESRV_ADDR=namesrv:9876"')]),t._v(" rocketmqinc/rocketmq-broker:4.5.0-alpine "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sh")]),t._v(" mqbroker -c "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("/conf/broker.conf\n")])])]),a("p",[t._v("这里 "),a("strong",[t._v("rocketmq-broker ip")]),t._v(" 是 "),a("strong",[t._v("pod ip")]),t._v(", 如果你想修改这个ip, 可以通过挂载容器中 "),a("strong",[t._v("broker.conf")]),t._v(" 文件的方式并修改文件中的 "),a("strong",[t._v("brokerIP1")]),t._v(" 配置项为自定义值")]),t._v(" "),a("p",[a("strong",[t._v("3.4.1 运行示例")])]),t._v(" "),a("p",[t._v("Windows")]),t._v(" "),a("ul",[a("li",[t._v("Windows系统下运行示例可以参考"),a("a",{attrs:{href:"https://github.com/WeBankFinTech/EventMesh/blob/develop/docs/en/instructions/eventmesh-sdk-java-quickstart.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("这里"),a("OutboundLink")],1)])]),t._v(" "),a("p",[t._v("Linux")]),t._v(" "),a("ul",[a("li",[a("p",[a("strong",[t._v("获取 eventmesh-test_1.2.0-SNAPSHOT.tar.gz")])]),t._v(" "),a("p",[t._v("你可以从我们的 "),a("strong",[t._v("releases")]),t._v(" 获取或者"),a("strong",[t._v("通过源码的方式进行构建")])]),t._v(" "),a("p",[a("strong",[t._v("通过源码的方式进行构建")]),t._v("：")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" /* Your Deploy Path */EventMesh/eventmesh-test \ngradle clean testdist testtar -x test`\n")])])]),a("p",[t._v("可以在 "),a("code",[t._v("/eventmesh-test/build")]),t._v(" 目录下获得 "),a("strong",[t._v("eventmesh-test_1.2.0-SNAPSHOT.tar.gz")])])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("修改配置文件")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#上传")]),t._v("\nupload eventmesh-test_1.2.0-SNAPSHOT.tar.gz\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#解压")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("tar")]),t._v(" -zxvf eventmesh-test_1.2.0-SNAPSHOT.tar.gz\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#配置")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" conf\nconfig your application.properties\n")])])])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("运行")])]),t._v(" "),a("p",[t._v("TCP Sub")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" bin\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sh")]),t._v(" tcp_sub.sh\n")])])]),a("p",[t._v("TCP Pub")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" bin\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sh")]),t._v(" tcp_pub.sh\n")])])]),a("p",[t._v("TCP Sub Broadcast")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" bin\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sh")]),t._v(" tcp_sub_broadcast.sh\n")])])]),a("p",[t._v("TCP Pub Broadcast")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" bin\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sh")]),t._v(" tcp_pub_broadcast.sh\n")])])]),a("p",[t._v("HTTP Sub")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" bin\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sh")]),t._v(" http_sub.sh\n")])])]),a("p",[t._v("HTTP Pub")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" bin\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sh")]),t._v(" http_pub.sh\n")])])]),a("p",[t._v("之后 , 你可以在 "),a("code",[t._v("/logs")]),t._v(" 目录下面看到不同模式的运行日志")])])])])}),[],!1,null,null,null);e.default=r.exports}}]);