# A2A Protocol Configuration
# EventMesh Agent-to-Agent Communication Protocol Settings

a2a:
  # Protocol version
  version: "1.0"
  
  # Protocol type identifier
  protocol: "A2A"
  
  # Default message settings
  message:
    # Default TTL for messages (seconds)
    default-ttl: 300
    
    # Default priority levels
    priority-levels:
      - "HIGH"
      - "NORMAL" 
      - "LOW"
    
    # Default priority
    default-priority: "NORMAL"
    
    # Maximum message size (bytes)
    max-size: 1048576  # 1MB
    
    # Enable message compression
    compression-enabled: false
  
  # Agent registry settings
  registry:
    # Heartbeat timeout (milliseconds)
    heartbeat-timeout: 30000  # 30 seconds
    
    # Heartbeat interval (milliseconds)
    heartbeat-interval: 30000  # 30 seconds
    
    # Maximum number of registered agents
    max-agents: 1000
    
    # Agent cleanup interval (milliseconds)
    cleanup-interval: 60000  # 1 minute
    
    # Enable agent discovery
    discovery-enabled: true
    
    # Agent metadata retention time (milliseconds)
    metadata-retention: 86400000  # 24 hours
  
  # Message routing settings
  routing:
    # Enable intelligent routing
    intelligent-routing: true
    
    # Enable load balancing
    load-balancing: true
    
    # Routing strategy: "round-robin", "least-loaded", "capability-based"
    strategy: "capability-based"
    
    # Maximum routing attempts
    max-routing-attempts: 3
    
    # Routing timeout (milliseconds)
    routing-timeout: 5000  # 5 seconds
    
    # Enable alternative agent routing
    alternative-routing: true
  
  # Collaboration settings
  collaboration:
    # Enable workflow orchestration
    workflow-enabled: true
    
    # Maximum concurrent collaborations
    max-concurrent-sessions: 100
    
    # Default workflow timeout (milliseconds)
    default-workflow-timeout: 300000  # 5 minutes
    
    # Workflow step timeout (milliseconds)
    step-timeout: 30000  # 30 seconds
    
    # Enable workflow persistence
    persistence-enabled: false
    
    # Workflow history retention (milliseconds)
    history-retention: 604800000  # 7 days
  
  # Security settings
  security:
    # Enable authentication
    authentication-enabled: false
    
    # Enable authorization
    authorization-enabled: false
    
    # Enable message encryption
    encryption-enabled: false
    
    # Allowed agent types
    allowed-agent-types:
      - "task-executor"
      - "data-provider"
      - "data-processor"
      - "analytics-engine"
      - "system"
    
    # Blocked agent IDs (blacklist)
    blocked-agent-ids: []
    
    # Trusted agent IDs (whitelist)
    trusted-agent-ids: []
  
  # Monitoring and metrics
  monitoring:
    # Enable metrics collection
    metrics-enabled: true
    
    # Metrics collection interval (milliseconds)
    metrics-interval: 60000  # 1 minute
    
    # Enable health checks
    health-checks-enabled: true
    
    # Health check interval (milliseconds)
    health-check-interval: 30000  # 30 seconds
    
    # Enable performance monitoring
    performance-monitoring: true
    
    # Performance threshold warnings
    performance-thresholds:
      message-processing-time: 1000  # milliseconds
      routing-time: 100  # milliseconds
      collaboration-timeout-rate: 0.1  # 10%
  
  # Logging settings
  logging:
    # Log level: DEBUG, INFO, WARN, ERROR
    level: "INFO"
    
    # Enable A2A protocol logging
    protocol-logging: true
    
    # Enable message logging
    message-logging: false
    
    # Log file path
    log-file: "logs/a2a-protocol.log"
    
    # Maximum log file size (bytes)
    max-log-size: 10485760  # 10MB
    
    # Number of log files to keep
    max-log-files: 10
  
  # Performance tuning
  performance:
    # Thread pool settings
    thread-pool:
      core-size: 10
      max-size: 50
      queue-size: 1000
      keep-alive-time: 60000  # 1 minute
    
    # Connection pool settings
    connection-pool:
      max-connections: 100
      connection-timeout: 5000  # 5 seconds
      idle-timeout: 300000  # 5 minutes
    
    # Message processing
    message-processing:
      batch-size: 100
      batch-timeout: 1000  # 1 second
      max-concurrent-messages: 1000
  
  # Integration settings
  integration:
    # EventMesh integration
    eventmesh:
      # Enable EventMesh integration
      enabled: true
      
      # EventMesh topic prefix for A2A messages
      topic-prefix: "a2a"
      
      # Enable topic-based routing
      topic-routing: true
    
    # External systems integration
    external:
      # Enable external system integration
      enabled: false
      
      # External system endpoints
      endpoints: []
      
      # Integration timeout (milliseconds)
      timeout: 10000  # 10 seconds
  
  # Development and testing
  development:
    # Enable debug mode
    debug-mode: false
    
    # Enable test endpoints
    test-endpoints-enabled: false
    
    # Mock agent settings
    mock-agents:
      enabled: false
      count: 5
      types:
        - "task-executor"
        - "data-provider"
        - "analytics-engine"
    
    # Enable simulation mode
    simulation-mode: false
    
    # Simulation settings
    simulation:
      message-delay: 100  # milliseconds
      failure-rate: 0.01  # 1%
      network-latency: 50  # milliseconds
