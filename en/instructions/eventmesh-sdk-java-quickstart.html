<!DOCTYPE html>
<html lang="English">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>How to run eventmesh-sdk-java demo | EventMesh</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="icon" href="/logo.png">
    <meta name="description" content="EventMesh">
    
    <link rel="preload" href="/assets/css/0.styles.992cb7aa.css" as="style"><link rel="preload" href="/assets/js/app.c0a3461f.js" as="script"><link rel="preload" href="/assets/js/2.68b5aa31.js" as="script"><link rel="preload" href="/assets/js/31.ecae4fb0.js" as="script"><link rel="prefetch" href="/assets/js/10.f42bc8c2.js"><link rel="prefetch" href="/assets/js/11.86b17cf0.js"><link rel="prefetch" href="/assets/js/12.6c836357.js"><link rel="prefetch" href="/assets/js/13.67ce5e3b.js"><link rel="prefetch" href="/assets/js/14.3077643a.js"><link rel="prefetch" href="/assets/js/15.f454d077.js"><link rel="prefetch" href="/assets/js/16.585aaa5e.js"><link rel="prefetch" href="/assets/js/17.aef8abbd.js"><link rel="prefetch" href="/assets/js/18.b594391d.js"><link rel="prefetch" href="/assets/js/19.ccb63e9a.js"><link rel="prefetch" href="/assets/js/20.c6195e60.js"><link rel="prefetch" href="/assets/js/21.fde05e81.js"><link rel="prefetch" href="/assets/js/22.4dcc1609.js"><link rel="prefetch" href="/assets/js/23.79963770.js"><link rel="prefetch" href="/assets/js/24.8bca94b1.js"><link rel="prefetch" href="/assets/js/25.ab366b20.js"><link rel="prefetch" href="/assets/js/26.aa1e3b45.js"><link rel="prefetch" href="/assets/js/27.60ed61ab.js"><link rel="prefetch" href="/assets/js/28.e65ccf5d.js"><link rel="prefetch" href="/assets/js/29.466c13a8.js"><link rel="prefetch" href="/assets/js/3.cfd31602.js"><link rel="prefetch" href="/assets/js/30.d8eab54b.js"><link rel="prefetch" href="/assets/js/32.ae919373.js"><link rel="prefetch" href="/assets/js/33.19688ad4.js"><link rel="prefetch" href="/assets/js/34.380a7b69.js"><link rel="prefetch" href="/assets/js/4.435cab1f.js"><link rel="prefetch" href="/assets/js/5.d1fa8f68.js"><link rel="prefetch" href="/assets/js/6.bd504a45.js"><link rel="prefetch" href="/assets/js/7.5d6607bb.js"><link rel="prefetch" href="/assets/js/8.9551fdcb.js"><link rel="prefetch" href="/assets/js/9.438d62c1.js">
    <link rel="stylesheet" href="/assets/css/0.styles.992cb7aa.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">EventMesh</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/en/community/" class="nav-link">
  Community
</a></div><div class="nav-item"><a href="/en/blog/" class="nav-link">
  Blog
</a></div><div class="nav-item"><a href="/en/documentation/" class="nav-link">
  Documentation
</a></div><div class="nav-item"><a href="https://github.com/WeBankFinTech/EventMesh" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Languages" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Languages" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/en/instructions/eventmesh-sdk-java-quickstart.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="/cn/" class="nav-link">
  简体中文
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/en/community/" class="nav-link">
  Community
</a></div><div class="nav-item"><a href="/en/blog/" class="nav-link">
  Blog
</a></div><div class="nav-item"><a href="/en/documentation/" class="nav-link">
  Documentation
</a></div><div class="nav-item"><a href="https://github.com/WeBankFinTech/EventMesh" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Languages" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Languages" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/en/instructions/eventmesh-sdk-java-quickstart.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="/cn/" class="nav-link">
  简体中文
</a></li></ul></div></div> <!----></nav>  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="how-to-run-eventmesh-sdk-java-demo"><a href="#how-to-run-eventmesh-sdk-java-demo" class="header-anchor">#</a> How to run eventmesh-sdk-java demo</h2> <blockquote><p>Eventmesh-sdk-java , as the client, communicated with eventmesh-runtime, used to complete the sending and receiving of message.</p> <p>Eventmesh-sdk-java supports sync msg, async msg and broadcast msg. Sync msg means the producer sends msg which need the consumer supplies the response msg, Async msg means the producer just sends msg and does not care reply msg.Broadcast msg means the producer send msg once and all the consumer subscribed the broadcast topic will receive the msg.</p> <p>Eventmesh-sdk-java supports  the protocol  of HTTP and TCP.</p></blockquote> <h3 id="_1-tcp-demo"><a href="#_1-tcp-demo" class="header-anchor">#</a> 1. TCP DEMO</h3> <h4 id="sync-msg"><a href="#sync-msg" class="header-anchor">#</a> Sync msg</h4> <ul><li>create topic</li></ul> <div class="language- extra-class"><pre class="language-text"><code>sh runadmin.sh updateTopic  -c ${ClusterName} -t ${topic} -n ${namesrvAddr}
</code></pre></div><ul><li>start consumer ,subscribe topic in previous step.</li></ul> <div class="language- extra-class"><pre class="language-text"><code>Run the main method of com.webank.eventmesh.client.tcp.demo.SyncResponse
</code></pre></div><ul><li>start producer, send message</li></ul> <div class="language- extra-class"><pre class="language-text"><code>Run the main method of com.webank.eventmesh.client.tcp.demo.SyncRequest
</code></pre></div><h4 id="async-msg"><a href="#async-msg" class="header-anchor">#</a> Async msg</h4> <ul><li>create topic</li></ul> <div class="language- extra-class"><pre class="language-text"><code>sh runadmin.sh updateTopic  -c ${ClusterName} -t ${topic} -n ${namesrvAddr}
</code></pre></div><ul><li>start consumer ,subscribe topic in previous step.</li></ul> <div class="language- extra-class"><pre class="language-text"><code>Run the main method of com.webank.eventmesh.client.tcp.demo.AsyncSubscribe
</code></pre></div><p>start producer, send  message</p> <div class="language- extra-class"><pre class="language-text"><code>Run the main method of com.webank.eventmesh.client.tcp.demo.AsyncPublish
</code></pre></div><h4 id="broadcast-msg"><a href="#broadcast-msg" class="header-anchor">#</a> Broadcast msg</h4> <ul><li>create topic</li></ul> <div class="language- extra-class"><pre class="language-text"><code>sh runadmin.sh updateTopic  -c ${ClusterName} -t ${topic} -n ${namesrvAddr}
</code></pre></div><ul><li>start consumer ,subscribe topic in previous step.</li></ul> <div class="language- extra-class"><pre class="language-text"><code>Run the main method of com.webank.eventmesh.client.tcp.demo.AsyncSubscribeBroadcast
</code></pre></div><ul><li>start producer, send broadcast message</li></ul> <div class="language- extra-class"><pre class="language-text"><code>Run the main method of com.webank.eventmesh.client.tcp.demo.AsyncPublishBroadcast
</code></pre></div><h3 id="_2-http-demo"><a href="#_2-http-demo" class="header-anchor">#</a> 2. HTTP DEMO</h3> <blockquote><p>As to http, eventmesh-sdk-java implements  the sending of sync msg. For async event  it implements the pub and sub.</p> <p>In the demo ,the field of <code>content</code> of the java class <code>LiteMessage</code> represents a special protocal, so if you want to use http-client of eventmesh-sdk-java, you just need to design the content of protocal and supply the consumer appliacation at the same time.</p></blockquote> <h4 id="sync-msg-2"><a href="#sync-msg-2" class="header-anchor">#</a> Sync msg</h4> <blockquote><p>send msg ,producer need waiting until receive the response msg of consumer</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>Run the main method of com.webank.eventmesh.client.http.demo.SyncRequestInstance
</code></pre></div><blockquote><p>send msg,producer handles the reponse msg in callback</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>Run the main method of com.webank.eventmesh.client.http.demo.AsyncSyncRequestInstance
</code></pre></div><h4 id="async-event"><a href="#async-event" class="header-anchor">#</a> Async event</h4> <blockquote><p>producer send the event to consumer and don't need waiting response msg of consumer</p></blockquote> <ul><li>start consumer, subscribe topic</li></ul> <p>Async consumer demo is a spring boot application demo,  you can easily run this demo to start service and subscribe the topic.</p> <div class="language- extra-class"><pre class="language-text"><code>Run the main method of com.webank.eventmesh.client.http.demo.sub.SpringBootDemoApplication
</code></pre></div><ul><li>start producer, produce msg</li></ul> <div class="language- extra-class"><pre class="language-text"><code>Run the main method of com.webank.eventmesh.client.http.demo.AsyncPublishInstance
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.c0a3461f.js" defer></script><script src="/assets/js/2.68b5aa31.js" defer></script><script src="/assets/js/31.ecae4fb0.js" defer></script>
  </body>
</html>
