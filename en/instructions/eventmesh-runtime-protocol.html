<!DOCTYPE html>
<html lang="English">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>TCP Protocol Document In Eventmesh-Runtime | EventMesh</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="icon" href="/logo.png">
    <meta name="description" content="EventMesh">
    
    <link rel="preload" href="/assets/css/0.styles.992cb7aa.css" as="style"><link rel="preload" href="/assets/js/app.a5182b3c.js" as="script"><link rel="preload" href="/assets/js/2.706fd1a1.js" as="script"><link rel="preload" href="/assets/js/8.78d19d07.js" as="script"><link rel="prefetch" href="/assets/js/10.f33f460f.js"><link rel="prefetch" href="/assets/js/11.a1abc765.js"><link rel="prefetch" href="/assets/js/12.d4a647c6.js"><link rel="prefetch" href="/assets/js/13.740729ce.js"><link rel="prefetch" href="/assets/js/14.78cf74bb.js"><link rel="prefetch" href="/assets/js/15.eed547f1.js"><link rel="prefetch" href="/assets/js/16.494014e0.js"><link rel="prefetch" href="/assets/js/17.8f86459e.js"><link rel="prefetch" href="/assets/js/18.88ee4a36.js"><link rel="prefetch" href="/assets/js/19.90bbd066.js"><link rel="prefetch" href="/assets/js/20.e4fe1ce3.js"><link rel="prefetch" href="/assets/js/21.6a3d0d97.js"><link rel="prefetch" href="/assets/js/22.643939a7.js"><link rel="prefetch" href="/assets/js/23.6599270d.js"><link rel="prefetch" href="/assets/js/24.d104082b.js"><link rel="prefetch" href="/assets/js/25.ae8b3509.js"><link rel="prefetch" href="/assets/js/26.4941fd91.js"><link rel="prefetch" href="/assets/js/27.94f3e385.js"><link rel="prefetch" href="/assets/js/28.050d6443.js"><link rel="prefetch" href="/assets/js/29.53dcbee4.js"><link rel="prefetch" href="/assets/js/3.9bd2565c.js"><link rel="prefetch" href="/assets/js/30.56b639b5.js"><link rel="prefetch" href="/assets/js/31.a4fab623.js"><link rel="prefetch" href="/assets/js/32.d33f13c0.js"><link rel="prefetch" href="/assets/js/33.6dfecd74.js"><link rel="prefetch" href="/assets/js/34.051228b6.js"><link rel="prefetch" href="/assets/js/35.437b425d.js"><link rel="prefetch" href="/assets/js/4.f08d96e9.js"><link rel="prefetch" href="/assets/js/5.485e1ca5.js"><link rel="prefetch" href="/assets/js/6.1d6ced8e.js"><link rel="prefetch" href="/assets/js/7.2f0e8265.js"><link rel="prefetch" href="/assets/js/9.2a3b144e.js">
    <link rel="stylesheet" href="/assets/css/0.styles.992cb7aa.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">EventMesh</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/en/community/" class="nav-link">
  Community
</a></div><div class="nav-item"><a href="/en/blog/" class="nav-link">
  Blog
</a></div><div class="nav-item"><a href="/en/documentation/" class="nav-link">
  Documentation
</a></div><div class="nav-item"><a href="https://github.com/WeBankFinTech/EventMesh" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Languages" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Languages" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/en/instructions/eventmesh-runtime-protocol.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="/cn/" class="nav-link">
  简体中文
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/en/community/" class="nav-link">
  Community
</a></div><div class="nav-item"><a href="/en/blog/" class="nav-link">
  Blog
</a></div><div class="nav-item"><a href="/en/documentation/" class="nav-link">
  Documentation
</a></div><div class="nav-item"><a href="https://github.com/WeBankFinTech/EventMesh" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Languages" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Languages" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/en/instructions/eventmesh-runtime-protocol.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="/cn/" class="nav-link">
  简体中文
</a></li></ul></div></div> <!----></nav>  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="tcp-protocol-document-in-eventmesh-runtime"><a href="#tcp-protocol-document-in-eventmesh-runtime" class="header-anchor">#</a> TCP Protocol Document In Eventmesh-Runtime</h2> <h4 id="_1-protocol-format"><a href="#_1-protocol-format" class="header-anchor">#</a> 1. Protocol Format</h4> <p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAtEAAAApCAYAAADzl3VaAAAEjHRFWHRteGZpbGUAJTNDbXhmaWxlJTIwaG9zdCUzRCUyMkVsZWN0cm9uJTIyJTIwbW9kaWZpZWQlM0QlMjIyMDIxLTAzLTA1VDA2JTNBMzklM0ExNC40ODlaJTIyJTIwYWdlbnQlM0QlMjI1LjAlMjAoV2luZG93cyUyME5UJTIwMTAuMCUzQiUyMFdpbjY0JTNCJTIweDY0KSUyMEFwcGxlV2ViS2l0JTJGNTM3LjM2JTIwKEtIVE1MJTJDJTIwbGlrZSUyMEdlY2tvKSUyMGRyYXcuaW8lMkYxMi45LjklMjBDaHJvbWUlMkY4MC4wLjM5ODcuMTYzJTIwRWxlY3Ryb24lMkY4LjIuMSUyMFNhZmFyaSUyRjUzNy4zNiUyMiUyMGV0YWclM0QlMjJPejZHcWxGUExHd0t6ME5IZUVuQiUyMiUyMHZlcnNpb24lM0QlMjIxMi45LjklMjIlMjB0eXBlJTNEJTIyZGV2aWNlJTIyJTNFJTNDZGlhZ3JhbSUyMGlkJTNEJTIyVlNuSnNDWmhHaDNhejZtbzh5eTclMjIlMjBuYW1lJTNEJTIyUGFnZS0yJTIyJTNFM1paUmI1c3dFSUIlMkZEWSUyQlZES2FFdnBaa2l5SlZuWVRVU1gxejhBV3NBSWVNS2RCZlB4Tk1nTkZWNjdRMVdwNkN2N1BQdWMlMkJIaFVXRHJQa3FXWkU4SUlmVWNnaHZMTHEySE1kMkhWZiUyRmRLVHRpZCUyQk5PaEJMd2Mya0VZVGlGUXdraGxhQ1F6bWJxQkJUSllvNWpERFBJVkl6eHFURWVqN3RnT2w4MTRMRnNBQmh4TklsJTJGUzY0U29ZcVZpUGZnb2lUWVdmYnUlMkJzakdSc21tMHJLaEhHc0o0aHVMQnBJUk5VJTJGWlUwQWFTZHY4QktBJTJGUnp1eVRyaHR2OTg2MFJ0dmlsdiUyQm1SZlByTGtYSUtFWFAxeDZuRDNXcjNROWFaNjNPNzhwM0NIeCUyQlBqamRlbmZtRnBaWHlaV2xVN0NJd2xWb1ZGN3c4aVRRTk1VWjR3UFJ6QWl5TE5TeVh4Q0pNSVg5M3RDZEVSa3h1a2d1YXRzMmI3WVElMkZ5bXhYYVolMkIyNlh3RXpVTExWNjB4MjM2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" alt="dataFlow"></p> <p><strong>Protocol Specification</strong></p> <div class="language- extra-class"><pre class="language-text"><code>Magic Code: 9 bit, defaultValue:EventMesh

Protocol Version: 4 bit, defaultValue:0000

Message Size: 4 bit, the total length of message

Header Size: 4 bit，the length of Message Header

Message Header: the specific header content of message 

Message Body: the specific body content of message 
</code></pre></div><h4 id="_2-message-object-in-business-logic-layer"><a href="#_2-message-object-in-business-logic-layer" class="header-anchor">#</a> 2. Message Object in business logic layer</h4> <ul><li>Message Composition</li></ul> <p>The class of <code>Package.java</code> is message object in business logic layer. It contains two parts: header and body.</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Package</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">Header</span> header<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Object</span> body<span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Header</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">Command</span> cmd<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> code<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> msg<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> seq<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>Specificatiion</li></ul> <p>Message Header(header): The field of Command in Header, used to distinguishing  different message types.</p> <p>Message Body(body): The message body is defined as different objects according to the message type.</p> <table><thead><tr><th>Command</th> <th>type of Body</th></tr></thead> <tbody><tr><td>HEARTBEAT_REQUEST, HEARTBEAT_RESPONSE, HELLO_RESPONSE, CLIENT_GOODBYE_REQUEST, CLIENT_GOODBYE_RESPONSE, SERVER_GOODBYE_REQUEST, SERVER_GOODBYE_RESPONSE, LISTEN_REQUEST, LISTEN_RESPONSE, UNSUBSCRIBE_REQUEST, SUBSCRIBE_RESPONSE, UNSUBSCRIBE_RESPONSE, ASYNC_MESSAGE_TO_SERVER_ACK, BROADCAST_MESSAGE_TO_SERVER_ACK</td> <td>--</td></tr> <tr><td>HELLO_REQUEST</td> <td>UserAgent</td></tr> <tr><td>SUBSCRIBE_REQUEST</td> <td>Subscription</td></tr> <tr><td>REQUEST_TO_SERVER, REQUEST_TO_CLIENT, RESPONSE_TO_SERVER, RESPONSE_TO_CLIENT, ASYNC_MESSAGE_TO_SERVER, ASYNC_MESSAGE_TO_CLIENT, BROADCAST_MESSAGE_TO_SERVER, BROADCAST_MESSAGE_TO_CLIENT, ASYNC_MESSAGE_TO_CLIENT_ACK, BROADCAST_MESSAGE_TO_CLIENT_ACK, RESPONSE_TO_CLIENT_ACK, REQUEST_TO_CLIENT_ACK</td> <td>OpenMessage</td></tr> <tr><td>REDIRECT_TO_CLIENT</td> <td>RedirectInfo</td></tr></tbody></table> <h4 id="_3-the-interactive-command-between-client-and-server-eventmesh-runtime"><a href="#_3-the-interactive-command-between-client-and-server-eventmesh-runtime" class="header-anchor">#</a> 3. The Interactive Command between Client and Server(Eventmesh-Runtime)</h4> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">enum</span> <span class="token class-name">Command</span> <span class="token punctuation">{</span>

    <span class="token comment">//HeartBeat</span>
    <span class="token function">HEARTBEAT_REQUEST</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                              <span class="token comment">//client send heartbeat request to server</span>
    <span class="token function">HEARTBEAT_RESPONSE</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                             <span class="token comment">//server reply heartbeat response to client</span>

    <span class="token comment">//Hello</span>
    <span class="token function">HELLO_REQUEST</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                                  <span class="token comment">//client send connect request to server</span>
    <span class="token function">HELLO_RESPONSE</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                                 <span class="token comment">//server reply connect response to client</span>

    <span class="token comment">//Disconncet</span>
    <span class="token function">CLIENT_GOODBYE_REQUEST</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                         <span class="token comment">//client send disconnect request to server</span>
    <span class="token function">CLIENT_GOODBYE_RESPONSE</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                        <span class="token comment">//server reply disconnect response to client</span>
    <span class="token function">SERVER_GOODBYE_REQUEST</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                         <span class="token comment">//server send disconncet request to client</span>
    <span class="token function">SERVER_GOODBYE_RESPONSE</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                        <span class="token comment">//client reply disconnect response to server</span>

    <span class="token comment">//Subscribe and UnSubscribe</span>
    <span class="token function">SUBSCRIBE_REQUEST</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                              <span class="token comment">//client send subscribe request to server</span>
    <span class="token function">SUBSCRIBE_RESPONSE</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                             <span class="token comment">//server reply subscribe response to client</span>
    <span class="token function">UNSUBSCRIBE_REQUEST</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                           <span class="token comment">//client send unsubscribe request to server</span>
    <span class="token function">UNSUBSCRIBE_RESPONSE</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                          <span class="token comment">//server reply unsubscribe response to client</span>

    <span class="token comment">//Listen</span>
    <span class="token function">LISTEN_REQUEST</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                            	   <span class="token comment">//client send listen request to server</span>
    <span class="token function">LISTEN_RESPONSE</span><span class="token punctuation">(</span><span class="token number">13</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                               <span class="token comment">//server reply listen response to client</span>

    <span class="token comment">//send sync message</span>
    <span class="token function">REQUEST_TO_SERVER</span><span class="token punctuation">(</span><span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                             <span class="token comment">//client(Producer) send sync msg to server</span>
    <span class="token function">REQUEST_TO_CLIENT</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                             <span class="token comment">//server push sync msg to client(Consumer)</span>
    <span class="token function">REQUEST_TO_CLIENT_ACK</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                         <span class="token comment">//client(Consumer) send ack of sync msg to server</span>
    <span class="token function">RESPONSE_TO_SERVER</span><span class="token punctuation">(</span><span class="token number">17</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                            <span class="token comment">//client(Consumer) send reply msg to server</span>
    <span class="token function">RESPONSE_TO_CLIENT</span><span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                            <span class="token comment">//server push reply msg to client(Producer)</span>
    <span class="token function">RESPONSE_TO_CLIENT_ACK</span><span class="token punctuation">(</span><span class="token number">19</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                        <span class="token comment">//client(Producer) send ack of reply msg to server</span>

    <span class="token comment">//send async message</span>
    <span class="token function">ASYNC_MESSAGE_TO_SERVER</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                       <span class="token comment">//client send async msg to server</span>
    <span class="token function">ASYNC_MESSAGE_TO_SERVER_ACK</span><span class="token punctuation">(</span><span class="token number">21</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                   <span class="token comment">//server reply ack of async msg to client</span>
    <span class="token function">ASYNC_MESSAGE_TO_CLIENT</span><span class="token punctuation">(</span><span class="token number">22</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                       <span class="token comment">//server push async msg to client</span>
    <span class="token function">ASYNC_MESSAGE_TO_CLIENT_ACK</span><span class="token punctuation">(</span><span class="token number">23</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                   <span class="token comment">//client reply ack of async msg to server</span>

    <span class="token comment">//send broadcast message</span>
    <span class="token function">BROADCAST_MESSAGE_TO_SERVER</span><span class="token punctuation">(</span><span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                   <span class="token comment">//client send broadcast msg to server</span>
    <span class="token function">BROADCAST_MESSAGE_TO_SERVER_ACK</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">,</span>               <span class="token comment">//server reply ack of broadcast msg to client</span>
    <span class="token function">BROADCAST_MESSAGE_TO_CLIENT</span><span class="token punctuation">(</span><span class="token number">26</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                   <span class="token comment">//server push broadcast msg to client</span>
    <span class="token function">BROADCAST_MESSAGE_TO_CLIENT_ACK</span><span class="token punctuation">(</span><span class="token number">27</span><span class="token punctuation">)</span><span class="token punctuation">,</span>               <span class="token comment">//client reply ack of broadcast msg to server</span>

    <span class="token comment">//redirect</span>
    <span class="token function">REDIRECT_TO_CLIENT</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                            <span class="token comment">//server send redirect instruction to client</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_4-client-initiates-interaction"><a href="#_4-client-initiates-interaction" class="header-anchor">#</a> 4. Client initiates interaction</h4> <table><thead><tr><th>Scene</th> <th>Client Send</th> <th>Server Reply</th> <th>Remark</th></tr></thead> <tbody><tr><td>Hello</td> <td>HELLO_REQUEST</td> <td>HELLO_RESPONSE</td> <td></td></tr> <tr><td>Heartbeat</td> <td>HEARTBEAT_REQUEST</td> <td>HEARTBEAT_RESPONSE</td> <td></td></tr> <tr><td>Subscribe</td> <td>SUBSCRIBE_REQUEST</td> <td>SUBSCRIBE_RESPONSE</td> <td></td></tr> <tr><td>Unsubscribe</td> <td>UNSUBSCRIBE_REQUEST</td> <td>UNSUBSCRIBE_RESPONSE</td> <td></td></tr> <tr><td>Listen</td> <td>LISTEN_REQUEST</td> <td>LISTEN_RESPONSE</td> <td></td></tr> <tr><td>Send sync msg</td> <td>REQUEST_TO_SERVER</td> <td>RESPONSE_TO_CLIENT</td> <td></td></tr> <tr><td>Send reply msg of sync msg</td> <td>RESPONSE_TO_SERVER</td> <td>--</td> <td></td></tr> <tr><td>Send async msg</td> <td>ASYNC_MESSAGE_TO_SERVER</td> <td>ASYNC_MESSAGE_TO_SERVER_ACK</td> <td></td></tr> <tr><td>Send broadcast msg</td> <td>BROADCAST_MESSAGE_TO_SERVER</td> <td>BROADCAST_MESSAGE_TO_SERVER_ACK</td> <td></td></tr> <tr><td>Client start disconnect</td> <td>CLIENT_GOODBYE_REQUEST</td> <td>CLIENT_GOODBYE_RESPONSE</td> <td></td></tr></tbody></table> <h4 id="_5-server-initiates-interaction"><a href="#_5-server-initiates-interaction" class="header-anchor">#</a> 5. Server initiates interaction</h4> <table><thead><tr><th>Scene</th> <th>Server Send</th> <th>Client Reply</th> <th>Remark</th></tr></thead> <tbody><tr><td>Push sync msg to client</td> <td>REQUEST_TO_CLIENT</td> <td>REQUEST_TO_CLIENT_ACK</td> <td></td></tr> <tr><td>Push reply msg of sync msg to client</td> <td>RESPONSE_TO_CLIENT</td> <td>RESPONSE_TO_CLIENT_ACK</td> <td></td></tr> <tr><td>Push async msg to client</td> <td>ASYNC_MESSAGE_TO_CLIENT</td> <td>ASYNC_MESSAGE_TO_CLIENT_ACK</td> <td></td></tr> <tr><td>Push broadcast msg to client</td> <td>BROADCAST_MESSAGE_TO_CLIENT</td> <td>BROADCAST_MESSAGE_TO_CLIENT_ACK</td> <td></td></tr> <tr><td>Server start disconnect</td> <td>SERVER_GOODBYE_REQUEST</td> <td>--</td> <td></td></tr> <tr><td>Server send redirect</td> <td>REDIRECT_TO_CLIENT</td> <td>--</td> <td></td></tr></tbody></table> <h4 id="_6-message-classification"><a href="#_6-message-classification" class="header-anchor">#</a> 6. Message classification</h4> <ul><li>Send sync msg</li></ul> <p><img src="/assets/img/eventmesh-rr-msg.f857f1b0.png" alt="rr-msg"></p> <ul><li>Send async msg</li></ul> <p><img src="/assets/img/eventmesh-async-msg.032fb180.png" alt="async-msg"></p> <ul><li>Send broadcast msg</li></ul> <p><img src="/assets/img/eventmesh-broadcast-msg.668b9e8c.png" alt="broadcast-msg"></p> <h2 id="http-protocol-document-in-eventmesh-runtime"><a href="#http-protocol-document-in-eventmesh-runtime" class="header-anchor">#</a> HTTP Protocol Document In Eventmesh-Runtime</h2> <p>The class of <code>LiteMessage.java</code> is message definition in http protocal of EventMesh-Runtime.If you want to send msg by using http protocol,you can use client in eventmesh-sdk-java, and you just need care the specific protocol in the field of content.</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LiteMessage</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">String</span> bizSeqNo<span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token class-name">String</span> uniqueId<span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token class-name">String</span> topic<span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token class-name">String</span> content<span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> prop<span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token keyword">long</span> createTime <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_1-message-send-and-message-composition"><a href="#_1-message-send-and-message-composition" class="header-anchor">#</a> 1. Message Send and Message Composition</h4> <p><strong>Request Method</strong>: POST</p> <p><strong>Message Composition</strong>: RequestHeader + RequestBody</p> <ul><li>Heartbeat Msg</li></ul> <p><strong>RequestHeader</strong></p> <table><thead><tr><th>Key</th> <th>Description</th></tr></thead> <tbody><tr><td>Env</td> <td>Enviroment of Client</td></tr> <tr><td>Region</td> <td>Region of Client</td></tr> <tr><td>Idc</td> <td>IDC of Client</td></tr> <tr><td>Dcn</td> <td>DCN of Client</td></tr> <tr><td>Sys</td> <td>Subsystem ID of Client</td></tr> <tr><td>Pid</td> <td>Client Process ID</td></tr> <tr><td>Ip</td> <td>Client Ip</td></tr> <tr><td>Username</td> <td>Client username</td></tr> <tr><td>Passwd</td> <td>Client password</td></tr> <tr><td>Version</td> <td>Protocol version</td></tr> <tr><td>Language</td> <td>Develop language</td></tr> <tr><td>Code</td> <td>Request Code</td></tr></tbody></table> <p><strong>RequestBody</strong></p> <table><thead><tr><th>Key</th> <th>Description</th></tr></thead> <tbody><tr><td>clientType</td> <td>Producer:clientType is ClientType.PUB,Consumer:clientType is ClientType.SUB</td></tr> <tr><td>heartbeatEntities</td> <td>Heartbeat content,contains topic,url...</td></tr></tbody></table> <ul><li>Subscribe Msg</li></ul> <p><strong>RequestHeader</strong></p> <p>same with RequestHeader of heartbeat msg</p> <p><strong>RequestBody</strong></p> <table><thead><tr><th>Key</th> <th>Description</th></tr></thead> <tbody><tr><td>topic</td> <td>topic of client want to subscribe</td></tr> <tr><td>url</td> <td>url of client, server push msg to the url when receiving msg from other components</td></tr></tbody></table> <ul><li>Unsubscribe Msg</li></ul> <p><strong>RequestHeader</strong></p> <p>same with RequestHeader of Heartbeat Msg</p> <p><strong>RequestBody</strong></p> <p>same with RequestBody of Subscribe Msg</p> <ul><li>Send async msg</li></ul> <p><strong>RequestHeader</strong></p> <p>same with RequestHeader of Heartbeat Msg</p> <p><strong>RequestBody</strong></p> <table><thead><tr><th>Key</th> <th>Description</th></tr></thead> <tbody><tr><td>topic</td> <td>topic of msg</td></tr> <tr><td>content</td> <td>msg content</td></tr> <tr><td>ttl</td> <td>timeout time of  msg</td></tr> <tr><td>bizSeqNo</td> <td>biz sequence number of msg</td></tr> <tr><td>uniqueId</td> <td>unique mark of msg</td></tr></tbody></table> <h4 id="_2-client-initiates-interaction"><a href="#_2-client-initiates-interaction" class="header-anchor">#</a> 2. Client initiates interaction</h4> <table><thead><tr><th>Scene</th> <th>Client Send</th> <th>Server Reply</th> <th>Remark</th></tr></thead> <tbody><tr><td>Heartbeat</td> <td>HEARTBEAT(203)</td> <td>SUCCESS(0)/EVENTMESH_HEARTBEAT_ERROR(19)</td> <td></td></tr> <tr><td>Subscribe</td> <td>SUBSCRIBE(206)</td> <td>SUCCESS(0)/EVENTMESH_SUBSCRIBE_ERROR(17)</td> <td></td></tr> <tr><td>Unsubscribe</td> <td>UNSUBSCRIBE(207)</td> <td>SUCCESS(0)/EVENTMESH_UNSUBSCRIBE_ERROR(18)</td> <td></td></tr> <tr><td>Send async msg</td> <td>MSG_SEND_ASYNC(104)</td> <td>SUCCESS(0)/EVENTMESH_SEND_ASYNC_MSG_ERR(14)</td> <td></td></tr></tbody></table> <h4 id="_3-server-initiates-interaction"><a href="#_3-server-initiates-interaction" class="header-anchor">#</a> 3. Server initiates interaction</h4> <table><thead><tr><th>Scene</th> <th>Server Send</th> <th>Client Reply</th> <th>Remark</th></tr></thead> <tbody><tr><td>Push async msg to client</td> <td>HTTP_PUSH_CLIENT_ASYNC(105)</td> <td>retCode</td> <td>retCode=0,send success</td></tr></tbody></table></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.a5182b3c.js" defer></script><script src="/assets/js/2.706fd1a1.js" defer></script><script src="/assets/js/8.78d19d07.js" defer></script>
  </body>
</html>
