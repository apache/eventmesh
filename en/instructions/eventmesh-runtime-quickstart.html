<!DOCTYPE html>
<html lang="English">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Eventmesh-runtime Quick start Instruction | EventMesh</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="icon" href="/logo.png">
    <meta name="description" content="EventMesh">
    
    <link rel="preload" href="/assets/css/0.styles.992cb7aa.css" as="style"><link rel="preload" href="/assets/js/app.141e6f9f.js" as="script"><link rel="preload" href="/assets/js/2.706fd1a1.js" as="script"><link rel="preload" href="/assets/js/4.f08d96e9.js" as="script"><link rel="prefetch" href="/assets/js/10.f33f460f.js"><link rel="prefetch" href="/assets/js/11.a1abc765.js"><link rel="prefetch" href="/assets/js/12.d4a647c6.js"><link rel="prefetch" href="/assets/js/13.f06f88de.js"><link rel="prefetch" href="/assets/js/14.940a2bbe.js"><link rel="prefetch" href="/assets/js/15.1ed69544.js"><link rel="prefetch" href="/assets/js/16.d9824024.js"><link rel="prefetch" href="/assets/js/17.b3325889.js"><link rel="prefetch" href="/assets/js/18.08619497.js"><link rel="prefetch" href="/assets/js/19.e1fc838f.js"><link rel="prefetch" href="/assets/js/20.e4fe1ce3.js"><link rel="prefetch" href="/assets/js/21.6a3d0d97.js"><link rel="prefetch" href="/assets/js/22.643939a7.js"><link rel="prefetch" href="/assets/js/23.6599270d.js"><link rel="prefetch" href="/assets/js/24.67ba9674.js"><link rel="prefetch" href="/assets/js/25.f0733376.js"><link rel="prefetch" href="/assets/js/26.be745610.js"><link rel="prefetch" href="/assets/js/27.366b15c2.js"><link rel="prefetch" href="/assets/js/28.050d6443.js"><link rel="prefetch" href="/assets/js/29.53dcbee4.js"><link rel="prefetch" href="/assets/js/3.9bd2565c.js"><link rel="prefetch" href="/assets/js/30.ff6d7aa2.js"><link rel="prefetch" href="/assets/js/31.a4fab623.js"><link rel="prefetch" href="/assets/js/32.d33f13c0.js"><link rel="prefetch" href="/assets/js/33.6dfecd74.js"><link rel="prefetch" href="/assets/js/34.051228b6.js"><link rel="prefetch" href="/assets/js/35.437b425d.js"><link rel="prefetch" href="/assets/js/5.485e1ca5.js"><link rel="prefetch" href="/assets/js/6.1d6ced8e.js"><link rel="prefetch" href="/assets/js/7.a563de49.js"><link rel="prefetch" href="/assets/js/8.78d19d07.js"><link rel="prefetch" href="/assets/js/9.9966f27a.js">
    <link rel="stylesheet" href="/assets/css/0.styles.992cb7aa.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">EventMesh</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/en/community/" class="nav-link">
  Community
</a></div><div class="nav-item"><a href="/en/blog/" class="nav-link">
  Blog
</a></div><div class="nav-item"><a href="/en/documentation/" class="nav-link">
  Documentation
</a></div><div class="nav-item"><a href="https://github.com/WeBankFinTech/EventMesh" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Languages" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Languages" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/en/instructions/eventmesh-runtime-quickstart.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="/cn/" class="nav-link">
  简体中文
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/en/community/" class="nav-link">
  Community
</a></div><div class="nav-item"><a href="/en/blog/" class="nav-link">
  Blog
</a></div><div class="nav-item"><a href="/en/documentation/" class="nav-link">
  Documentation
</a></div><div class="nav-item"><a href="https://github.com/WeBankFinTech/EventMesh" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Languages" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Languages" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/en/instructions/eventmesh-runtime-quickstart.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="/cn/" class="nav-link">
  简体中文
</a></li></ul></div></div> <!----></nav>  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="eventmesh-runtime-quick-start-instruction"><a href="#eventmesh-runtime-quick-start-instruction" class="header-anchor">#</a> Eventmesh-runtime Quick start Instruction</h1> <h2 id="_1-remote-deploy"><a href="#_1-remote-deploy" class="header-anchor">#</a> 1 Remote Deploy</h2> <h3 id="_1-1-dependencies"><a href="#_1-1-dependencies" class="header-anchor">#</a> 1.1 dependencies</h3> <div class="language- extra-class"><pre class="language-text"><code>64bit OS, Linux/Unix is recommended;
64bit JDK 1.8+;
Gradle at least 5.6, eg 5.6.*
</code></pre></div><h3 id="_1-2-download-sources"><a href="#_1-2-download-sources" class="header-anchor">#</a> 1.2 download sources</h3> <p>download source code from <a href="https://github.com/WeBankFinTech/EventMesh" target="_blank" rel="noopener noreferrer">https://github.com/WeBankFinTech/EventMesh<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br>
You will get <strong>EventMesh-master.zip</strong></p> <h3 id="_1-3-build-sources"><a href="#_1-3-build-sources" class="header-anchor">#</a> 1.3 build sources</h3> <div class="language-$xslt extra-class"><pre class="language-text"><code>unzip EventMesh-master.zip
cd /*YOUR DEPLOY PATH*/EventMesh-master/eventmesh-runtime
gradle clean tar -x test
</code></pre></div><p>You will get <strong>EventMesh_1.2.0.tar.gz</strong> in directory /* YOUR DEPLOY PATH */EventMesh-master/build</p> <h3 id="_1-4-deployment"><a href="#_1-4-deployment" class="header-anchor">#</a> 1.4 Deployment</h3> <ul><li>deploy eventmesh-runtime</li></ul> <div class="language-shell extra-class"><pre class="language-shell"><code>upload Eventmesh_1.2.0.tar.gz
<span class="token function">tar</span> -zxvf Eventmesh_1.2.0.tar.gz
<span class="token builtin class-name">cd</span> conf
config your eventMesh.properties
<span class="token builtin class-name">cd</span> <span class="token punctuation">..</span>/bin
<span class="token function">sh</span> start.sh
</code></pre></div><p>If you see &quot;EventMeshTCPServer[port=10000] started....&quot;, you setup runtime successfully.</p> <h2 id="_2-run-locally"><a href="#_2-run-locally" class="header-anchor">#</a> 2 Run Locally</h2> <h3 id="_2-1-dependencies"><a href="#_2-1-dependencies" class="header-anchor">#</a> 2.1 dependencies</h3> <p>Same with 1.1</p> <h3 id="_2-2-download-sources"><a href="#_2-2-download-sources" class="header-anchor">#</a> 2.2 download sources</h3> <p>Same with 1.2</p> <h3 id="_2-3-run"><a href="#_2-3-run" class="header-anchor">#</a> 2.3 Run</h3> <p><strong>2.3.1 Project structure：</strong></p> <p><img src="/assets/img/project-structure.118642ed.png" alt="project-structure.png"></p> <ul><li>eventmesh-common : eventmesh common classes and method module</li> <li>eventmesh-connector-api : eventmesh connector api definition module</li> <li>eventmesh-connector-rocketmq : eventmesh rocketmq connector module</li> <li>eventmesh-runtime : eventmesh runtime module</li> <li>eventmesh-sdk-java : eventmesh java client sdk</li> <li>eventmesh-starter : eventmesh project local start entry</li></ul> <p>ps：The loading of connector plugin follows the Java SPI mechanism,  it's necessary to configure the mapping file of related interface and implementation class under /main/resources/meta-inf/services in the corresponding module</p> <p><strong>2.3.2 Configure VM Options</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token operator">-</span><span class="token class-name">Dlog4j</span><span class="token punctuation">.</span>configurationFile<span class="token operator">=</span><span class="token punctuation">.</span><span class="token punctuation">.</span>\eventmesh<span class="token operator">-</span>runtime\conf\log4j2<span class="token punctuation">.</span>xml
<span class="token operator">-</span><span class="token class-name">Deventmesh</span><span class="token punctuation">.</span>log<span class="token punctuation">.</span>home<span class="token operator">=</span><span class="token punctuation">.</span><span class="token punctuation">.</span>\eventmesh<span class="token operator">-</span>runtime\logs
<span class="token operator">-</span><span class="token class-name">Deventmesh</span><span class="token punctuation">.</span>home<span class="token operator">=</span><span class="token punctuation">.</span><span class="token punctuation">.</span>\eventmesh<span class="token operator">-</span>runtime
<span class="token operator">-</span><span class="token class-name">DconfPath</span><span class="token operator">=</span><span class="token punctuation">.</span><span class="token punctuation">.</span>\eventmesh<span class="token operator">-</span>runtime\conf
</code></pre></div><p><strong>2.3.3 Configure build.gradle file</strong></p> <p>Specify the connector that will be loaded after the project start with updating compile project item in dependencies</p> <p>update <code>build.gradle</code> file under the <code>eventmesh-starter</code> module</p> <p>load <strong>rocketmq connector</strong> configuration：</p> <div class="language-java extra-class"><pre class="language-java"><code>dependencies <span class="token punctuation">{</span>
    compile <span class="token function">project</span><span class="token punctuation">(</span><span class="token string">&quot;:eventmesh-runtime&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">project</span><span class="token punctuation">(</span><span class="token string">&quot;:eventmesh-connector-rocketmq&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>2.3.4 Run</strong></p> <p>running <code>com.webank.eventmesh.starter.StartUp</code> main method</p> <h2 id="_3-run-with-docker"><a href="#_3-run-with-docker" class="header-anchor">#</a> 3 Run with Docker</h2> <h3 id="_3-1-pull"><a href="#_3-1-pull" class="header-anchor">#</a> 3.1 Pull</h3> <p>execute <code>docker pull eventmesh/eventmesh-rocketmq:v1.2.0</code> , you will get EventMesh image like below</p> <p><img src="data:image/png;base64,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" alt="image-20210309155255510"></p> <h3 id="_3-2-config"><a href="#_3-2-config" class="header-anchor">#</a> 3.2 Config</h3> <blockquote><p><strong>prerequisite</strong> : may be you need download the source code from git first and use the contents of these files(eventMesh.properties and rocketmq-client.properties) as a reference for the following actions.</p></blockquote> <p><strong>3.2.1 Files to configure</strong></p> <p>Before run the container you should configure some files.</p> <p><strong>eventMesh.properties</strong></p> <table><thead><tr><th>Configuration Key</th> <th>Default Value</th> <th>Remarks</th></tr></thead> <tbody><tr><td>eventMesh.server.http.port</td> <td>10105</td> <td>EventMesh http server port</td></tr> <tr><td>eventMesh.server.tcp.port</td> <td>10000</td> <td>EventMesh tcp server port</td></tr></tbody></table> <p><strong>rocketmq-client.properties</strong></p> <table><thead><tr><th>Configuration Key</th> <th>Default Value</th> <th>Remarks</th></tr></thead> <tbody><tr><td>eventMesh.server.rocketmq.namesrvAddr</td> <td>127.0.0.1:9876;127.0.0.1:9876</td> <td>RocketMQ namesrv default address</td></tr></tbody></table> <p>After pull the EventMesh image to your host machine, you can execute command below to configure <strong>eventMesh.properties</strong> and <strong>rocketmq-client.properties</strong></p> <p><strong>3.2.2 Create Files</strong></p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">mkdir</span> -p /data/eventmesh/rocketmq/conf
<span class="token builtin class-name">cd</span> /data/eventmesh/rocketmq/conf
<span class="token function">vi</span> eventMesh.properties
<span class="token function">vi</span> rocketmq-client.properties
</code></pre></div><p>The contents of these files can reference from <a href="https://github.com/WeBankFinTech/EventMesh/blob/develop/eventmesh-runtime/conf/eventMesh.properties" target="_blank" rel="noopener noreferrer">eventMesh.properties<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> and <a href="https://github.com/WeBankFinTech/EventMesh/blob/develop/eventmesh-runtime/conf/rocketmq-client.properties" target="_blank" rel="noopener noreferrer">rocketmq-client.properties<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="_3-3-run"><a href="#_3-3-run" class="header-anchor">#</a> 3.3 Run</h3> <p><strong>3.3.1 run</strong></p> <p>execute command below to run container</p> <div class="language- extra-class"><pre class="language-text"><code>docker run -d -p 10000:10000 -p 10105:10105 -v /data/eventmesh/rocketmq/conf/eventMesh.properties:/data/app/eventmesh/conf/eventMesh.properties -v /data/eventmesh/rocketmq/conf/rocketmq-client.properties:/data/app/eventmesh/conf/rocketmq-client.properties docker.io/eventmesh/eventmesh-rocketmq:v1.2.0
</code></pre></div><blockquote><p>-p : binding the container port with host machine port</p> <p>-v : mount the container configuration files with host machine files</p></blockquote> <p><strong>3.3.2 check container</strong></p> <p>execute <code>docker ps</code> to check the container health</p> <p><img src="/assets/img/docker-ps.546ac091.png" alt="image-docker-ps"></p> <p>execute <code>docker logs [container id]</code> you will get following result:</p> <p><img src="/assets/img/docker-logs.a05b7b7f.png" alt="image-docker-logs"></p> <p>execute <code>docker exec -it [container id] /bin/bash</code> you will go into the container and see the details:</p> <p><img src="/assets/img/docker-exec.5c1f8b3b.png" alt="image-docker-exec"></p> <h3 id="_3-4-test"><a href="#_3-4-test" class="header-anchor">#</a> 3.4 Test</h3> <p><strong>Prerequisite</strong> ：RocketMQ Namesrv &amp; Broker</p> <p>you can build the rocketmq image following  <a href="https://github.com/apache/rocketmq-docker" target="_blank" rel="noopener noreferrer">here<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> or get the rocketmq image from docker hub.</p> <div class="language- extra-class"><pre class="language-text"><code>docker pull rocketmqinc/rocketmq-namesrv:4.5.0-alpine
docker pull rocketmqinc/rocketmq-broker:4.5.0-alpine

#namesrv 
docker run -d -p 9876:9876 -v `pwd` /data/namesrv/logs:/root/logs -v `pwd`/data/namesrv/store:/root/store --name rmqnamesrv  rocketmqinc/rocketmq-namesrv:4.5.0-alpine sh mqnamesrv 

#broker 
docker run -d -p 10911:10911 -p 10909:10909 -v `pwd`/data/broker/logs:/root/logs -v `pwd`/data/broker/store:/root/store --name rmqbroker --link rmqnamesrv:namesrv -e &quot;NAMESRV_ADDR=namesrv:9876&quot; rocketmqinc/rocketmq-broker:4.5.0-alpine sh mqbroker -c ../conf/broker.conf
</code></pre></div><p>When we get this point, <strong>rocketmq-broker ip</strong> is the <strong>pod ip</strong>, if you want to change the ip, you can mount the <strong>broker.conf</strong> file in container and modify <strong>brokerIP1</strong> configuration in this file to your custom values.</p> <p><strong>3.4.1 Run Demo</strong></p> <p>Windows</p> <ul><li>For demos running under the Windows , you can refer <a href="https://github.com/WeBankFinTech/EventMesh/blob/develop/docs/en/instructions/eventmesh-sdk-java-quickstart.md" target="_blank" rel="noopener noreferrer">here<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <p>Linux</p> <ul><li><p><strong>Get eventmesh-test_1.2.0-SNAPSHOT.tar.gz</strong></p> <p>you can get this package from <strong>our releases</strong> or <strong>build with source code</strong>.</p> <p><strong>build with source code</strong>:</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">cd</span> /* Your Deploy Path */EventMesh/eventmesh-test 
gradle clean testdist testtar -x test`
</code></pre></div><p>you will get <strong>eventmesh-test_1.2.0-SNAPSHOT.tar.gz</strong> under the /eventmesh-test/build</p></li> <li><p><strong>Modify configuration files</strong></p> <div class="language-shell extra-class"><pre class="language-shell"><code>upload eventmesh-test_1.2.0-SNAPSHOT.tar.gz
<span class="token function">tar</span> -zxvf eventmesh-test_1.2.0-SNAPSHOT.tar.gz
<span class="token builtin class-name">cd</span> conf
config your application.properties
</code></pre></div></li> <li><p><strong>Run demo</strong></p> <p>TCP Sub</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">cd</span> bin
<span class="token function">sh</span> tcp_sub.sh
</code></pre></div><p>TCP Pub</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">cd</span> bin
<span class="token function">sh</span> tcp_pub.sh
</code></pre></div><p>TCP Sub Broadcast</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">cd</span> bin
<span class="token function">sh</span> tcp_sub_broadcast.sh
</code></pre></div><p>TCP Pub Broadcast</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">cd</span> bin
<span class="token function">sh</span> tcp_pub_broadcast.sh
</code></pre></div><p>HTTP Sub</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">cd</span> bin
<span class="token function">sh</span> http_sub.sh
</code></pre></div><p>HTTP Pub</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">cd</span> bin
<span class="token function">sh</span> http_pub.sh
</code></pre></div><p>After this , you can see result of different mode in logs file under <code>/logs</code> directory</p></li></ul></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.141e6f9f.js" defer></script><script src="/assets/js/2.706fd1a1.js" defer></script><script src="/assets/js/4.f08d96e9.js" defer></script>
  </body>
</html>
